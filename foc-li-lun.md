# FOC理论

### 矢量控制技术概述

传统三相交流的定子电流无法单独调节励磁和转矩，他们之间是强耦合，非线性的复关系。

励磁：向同步电机提供定子电源，为发电机等（利用电磁感应原理工作的电子设备）提供工作磁场的机器。

矢量控制方式就是讲三相交流信号经过一系列坐标变换，最终变为直流可控的两相正交电流。解耦复杂的电流关系，使得交流电机变得简单可控。

矢量控制不仅可以控制交流电机，还可以控制直流电机。

无论哪种电机，它的转矩都正比于定子磁场和转子磁场的交叉（向量和），即它们所围成的平行四边形的面积。

当定子磁场和转子磁场夹角为90度的时候平行四边形面积最大，所产生的力矩最大。

想在要达到直流有刷电机的效果，就要想办法解耦转矩和励磁之间的关系。

### 矢量控制技术原理

矢量控制技术，英文FOC，或者叫磁场定向控制。

它能够解耦复杂的定子电流关系，将定子电流分解成控制励磁的直轴电流，以及控制转矩的交轴电流。

想要在空间产生旋转的磁场，不一定非要三相对称绕组，任意对称的多相绕组都可以产生旋转的磁动势，特别是两相对称正交绕组也可以达到同样的效果！！

#### Clarke变化

#### park变化

#### 矢量控制架构

首先，控制电机最终是力的控制，也就是电流的控制，所以有控制就一定有反馈，有闭环，因此矢量控制里先有电流控制环。

电流环外部是速度环，通过安装在电机底部的位置传感器获得转子位置信息，并计算反馈速度，与给定的速度进行比较，送入速度PI控制器，并输出转矩电流。之后这个转矩电流会继续进入电流环转矩pi控制器，最终输出d、q轴电压，这个电压是无法直接驱动电机的，因此需要将d、q两相旋转坐标系下的电压经过park反变化以及Clarke反变换，最终变换为a、b、c三相静止坐标系下的电压，最终才能驱动三相电机。
